# CST 1-2-2 Graphics

张益铭  车13  2021010552

**注：本人在2023年春季学期已经完成过本题，因此代码及报告均为2023春的版本，且未将代码和报告分享过任何人。**

## 算法思路和实现要点
符合题意的唯一一种排列就是将x、y轴上的点按从小到大的顺序一一对应连接，可以考虑开一个大小为线段数量二倍的数组，前半部分存储x轴的点，后半部分存储y轴的点，再分别对这两部分进行排序，那么$(arr[i], 0)$和$(0, arr[i + n])$就是线段的两端点。

最终在$(Px, Py)$下方的线段都会产生交点，上方的则不会，可以考虑使用二分查找找到临界的线段，它的序号+1就是交点个数。

对于判断点在线段上方还是下方可以使用向量的叉乘来判断，记x轴，y轴，查询点分别为$A,B,C$，如果$\vec{AC} \times \vec{AB} \geq 0$，说明有交点。

## 渐进时间复杂度的分析，包含过程
快速排序复杂度为$O(n\log n)$

m次查询，每次查询为$O(\log n)$，m次为$O(m\log n)$

因此复杂度为$O((m+n)\log n)$

## 渐进空间复杂度的分析，包含过程
空间开销主要来自存储坐标轴上的点，以及快速排序，因此空间复杂度为$O(n)$

## 遇到的困难和解决方法

起初我是遍历所有线段来计算交点，复杂度是$O(n)$，后来看到提示的二分查找，便将计数的算法优化到了$O(\log n)$

此外还要注意防止计算叉乘的时候结果超出int范围。

## 估计完成本题所用时间 
两小时。
## 关于本题的更多感想
无
