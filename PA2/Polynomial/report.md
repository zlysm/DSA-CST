# CST 2-2-2 Polynomial

张益铭  车13  2021010552

## 算法思路和实现要点

参考课件，使用符号栈和运算数栈进行计算（计算之前先扫描输入序列，补充省略的乘号）

维护一个结构体`Num`，如下所示，用来表示多项式的系数：

```c++
struct Num {
    int coef[65];
    int high;
    Num() : high(0) { memset(coef, 0, sizeof(coef)); }
};
```

之后根据运算符优先级表，进行入栈、出栈、计算等操作，思路与课件相同。

## 渐进时间复杂度的分析，包含过程

- 主要有加法、减法、乘法、指数操作。
  - 加法、减法：在 `calc` 函数的加法和减法操作中，时间复杂度取决于多项式的最高次项，因此为 $O(k)$，其中k是最高次项。
  - 乘法：在乘法中会进行两层循环，分别遍历两个多项式的系数，因此时间复杂度为 $O(k^2)$。
  - 指数运算：实现方式是循环相乘 $a$ 次，其中为指数值。每次相乘的时间复杂度为 $O(k^2)$，总的时间复杂度为 $O(ak^2)$。

综上，整个表达式计算的时间复杂度取决于表达式的长度和多项式的复杂度，约为 $O(n \times k^2)$。

## 渐进空间复杂度的分析，包含过程

使用了两个栈来存储操作数和操作符。操作数栈最多需要存储 $O(n)$ 个元素，因此空间复杂度为 $O(n)$。

每个 `Num` 对象使用一个数组来存储系数，大小为常数 $O(k)$。

整体空间复杂度为 $O(n)$。

## 遇到的困难和解决方法

1. 由于表达式输入不完整，例如没有明确的乘号符号，因此在解析过程中需要在适当位置自动插入乘号。解决方法是添加一段遍历代码，根据特定条件判断是否需要在变量、括号等符号之间插入乘号。

2. 在多项式的加减法和乘法中，计算结果的高次项系数可能为 0，因此需要及时更新高次项指针（`high`）以防止输出时产生冗余的 0 项。解决方法是在每次计算后检查最高次项的系数是否为 0，并进行相应的调整。

## 估计完成本题所用时间 
四小时

## 关于本题的更多感想

无
